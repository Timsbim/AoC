# --------------------------------------------------------------------------- #
#    Day 4                                                                   #
# --------------------------------------------------------------------------- #

DAY = 4
EXAMPLE = False

# --------------------------------------------------------------------------- #
#    Preparation                                                              #
# --------------------------------------------------------------------------- #

file_name = f"2022/input/day_{DAY:0>2}"
if EXAMPLE:
    file_name += "_example"
file_name += ".csv"

# --------------------------------------------------------------------------- #
#    Reading input                                                            #
# --------------------------------------------------------------------------- #

with open(file_name, "r") as file:
    assignments = [
        [tuple(map(int, pair.split("-"))) for pair in line.strip().split(",")]
        for line in file
    ]
#print(assignments)

# --------------------------------------------------------------------------- #
#    Helper functions                                                         #
# --------------------------------------------------------------------------- #


# --------------------------------------------------------------------------- #
#    Part 1                                                                   #
# --------------------------------------------------------------------------- #
print("\nPart 1:")

def inclusive(pair1, pair2):
    a1, b1 = pair1
    a2, b2 = pair2
    return (a1 <= a2 and b2 <= b1) or (a2 <= a1 and b1 <= b2)

print(sum(inclusive(p1, p2) for p1, p2 in assignments))


# --------------------------------------------------------------------------- #
#    Part 2                                                                   #
# --------------------------------------------------------------------------- #
print("\nPart 2:")

def overlapping(pair1, pair2):
    a1, b1 = pair1
    a2, b2 = pair2
    return (
        (a1 <= a2 <= b1) or (a1 <= b2 <= b1)
        or (a2 <= a1 <= b2) or (a2 <= b1 <= b2)
    )

print(sum(overlapping(p1, p2) for p1, p2 in assignments))
